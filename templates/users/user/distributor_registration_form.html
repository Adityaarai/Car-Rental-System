<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VROOM - Distributor Registration Form</title>
</head>
<body>
  <div class="container">
    <div class="progress-bar">
      <div class="progress-bubble one active">1</div>
      <div class="progress-bubble two">2</div>
      <div class="progress-bubble three">3</div>
    </div>
    <form id="mainForm" method="POST" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="first-page">
          <h2>Verify your details</h2>
          {{ form.first_name.label_tag }} {{ form.first_name }}<br />
          {% if form.first_name.errors %}
              <div class="error">{{ form.first_name.errors }}</div>
          {% endif %}
  
          {{ form.last_name.label_tag }} {{ form.last_name }}<br />
          {% if form.last_name.errors %}
              <div class="error">{{ form.last_name.errors }}</div>
          {% endif %}
  
          {{ form.username.label_tag }} {{ form.username }}<br />
          {% if form.username.errors %}
              <div class="error">{{ form.username.errors }}</div>
          {% endif %}
  
          {{ form.email.label_tag }} {{ form.email }}<br />
          {% if form.email.errors %}
              <div class="error">{{ form.email.errors }}</div>
          {% endif %}
  
          {{ form.address.label_tag }} {{ form.address }}<br />
          {% if form.address.errors %}
              <div class="error">{{ form.address.errors }}</div>
          {% endif %}
  
          {% if user_profile.license_photo %}
            <label>Current License Photo:</label><br />
            <img src="{{ user_profile.license_photo.url }}" alt="License Photo" width="200px"><br />
          {% endif %}

          {{ form.license_photo.label_tag }} {{ form.license_photo }}<br />
          {% if form.license_photo.errors %}
              <div class="error">{{ form.license_photo.errors }}</div>
          {% endif %}
  
          {{ form.contact.label_tag }} {{ form.contact }}<br />
          {% if form.contact.errors %}
              <div class="error">{{ form.contact.errors }}</div>
          {% endif %}
  
          <a class="button" href="{% url 'user_profile' %}">Back</a>
          <button class="button" type="button" id="verify-btn">Verify Details</button>
      </div>
  
      <div class="second-page" style="display: none;">
          <h2>Add a car</h2>
          {{ form.car_type.label_tag }} {{ form.car_type }}<br />
          {% if form.car_type.errors %}
              <div class="error">{{ form.car_type.errors }}</div>
          {% endif %}
  
          {{ form.car_model.label_tag }} {{ form.car_model }}<br />
          {% if form.car_model.errors %}
              <div class="error">{{ form.car_model.errors }}</div>
          {% endif %}
  
          {{ form.price.label_tag }} {{ form.price }}<br />
          {% if form.price.errors %}
              <div class="error">{{ form.price.errors }}</div>
          {% endif %}
  
          {{ form.car_image.label_tag }} {{ form.car_image }}<br /><br />
          {% if form.car_image.errors %}
              <div class="error">{{ form.car_image.errors }}</div>
          {% endif %}

          {{ form.bluebook_image.label_tag }} {{ form.bluebook_image }}<br /><br />
          {% if form.bluebook_image.errors %}
              <div class="error">{{ form.bluebook_image.errors }}</div>
          {% endif %}
  
          <a class="button" id="previous">Previous</a>
          <button class="button" type="button" id="addCar">Add Car</button>
      </div>
      <div class="third-page" style="display: none;">
        <h1>Terms and Conditions</h1>
        <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Rem, autem odit? Reprehenderit aperiam sunt aliquam repudiandae quisquam autem corrupti impedit, eos beatae, porro unde nesciunt obcaecati facere? Sint, qui reprehenderit!</p>
        <a class="button" id="previous2">Previous</a>
        <button type="submit" name="sendRequest" id="submitForm">Send Request</button>
    </div>
  </form>
  
  </div>
</body>
</html>


<script>
 document.addEventListener("DOMContentLoaded", function(){
    const verifyBtn = document.getElementById("verify-btn");
    const addCarBtn = document.getElementById("addCar");
    const firstPage = document.querySelector(".first-page");
    const secondPage = document.querySelector(".second-page");
    const thirdPage = document.querySelector(".third-page");
    const previousBtn = document.querySelector("#previous");
    const previousBtn2 = document.querySelector("#previous2");
    const bubbleOne = document.querySelector(".one");
    const bubbleTwo = document.querySelector(".two");
    const bubbleThree = document.querySelector(".three");
    const submitFormBtn = document.getElementById("submitForm");

    verifyBtn.addEventListener("click", function(event){
        event.preventDefault();
        firstPage.style.display = "none";
        secondPage.style.display = "block";
        thirdPage.style.display = "none";

        bubbleOne.classList.remove("active");
        bubbleThree.classList.remove("active");
        bubbleTwo.classList.add("active");
    });

    addCarBtn.addEventListener("click", function(event){
        event.preventDefault();
        firstPage.style.display = "none";
        secondPage.style.display = "none";
        thirdPage.style.display = "block";

        bubbleOne.classList.remove("active");
        bubbleTwo.classList.remove("active");
        bubbleThree.classList.add("active");

    });

    previousBtn.addEventListener("click", function(event){
        event.preventDefault();
        firstPage.style.display = "block";
        secondPage.style.display = "none";
        thirdPage.style.display = "none";

        bubbleOne.classList.add("active");
        bubbleTwo.classList.remove("active");
        bubbleThree.classList.remove("active");
    });

    previousBtn2.addEventListener("click", function(event){
        event.preventDefault();
        firstPage.style.display = "none";
        secondPage.style.display = "block";
        thirdPage.style.display = "none";

        bubbleOne.classList.remove("active");
        bubbleTwo.classList.add("active");
        bubbleThree.classList.remove("active");
    });

    submitFormBtn.addEventListener("click", function(event){
      event.preventDefault();

      // Change to submit the entire form
      document.getElementById("mainForm").submit();
    });
});

</script>

<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    list-style: none;
    text-decoration: none;
  }

  :root {
    --indigo: #16425b;
    --lapis: #2f6690;
    --cerulean: #3a7ca5;
    --skyblue: #81c3d7;
    --platinum: #d9dcd6;
    --darkgray: #b4b4b3;
    --red: #f44336;
    --green: #4caf50;
    --darkgreen: darkgreen;
    --crimson: crimson;
    --white: #ffffff;
  }

  body {
    font-family: "Montserrat", sans-serif;
    background-color: var(--platinum);
    color: var(--indigo);
  }

  .container {
    width: 90vw;
    margin: 0 5%;
    margin-top: 9.8vh;
    min-height: 65.6vh;
    background-color: var(--white);
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    padding: 20px;
  }

  h2,
  h3 {
    color: var(--indigo);
    margin-bottom: 20px;
    text-align: center;
  }

  .button {
    padding: 10px 20px;
    border: none;
    background-color: var(--lapis);
    color: var(--platinum);
    cursor: pointer;
    border-radius: 5px;
    font-size: medium;
    margin-top: 20px;
    transition: background-color 0.3s ease;
    text-align: center;
    display: inline-block;
  }

  .button:hover {
    background-color: var(--cerulean);
  }

  form {
    margin-top: 20px;
  }

  form label {
    display: block;
    margin-bottom: 8px;
    font-weight: bold;
  }

  form input {
    width: calc(100% - 20px);
    padding: 10px;
    margin-bottom: 20px;
    border: 1px solid var(--darkgray);
    border-radius: 4px;
  }

  form button {
    padding: 10px 20px;
    background-color: var(--indigo);
    color: var(--white);
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  form button:hover {
    background-color: var(--lapis);
  }

  /* Customizing alert colors */
  .alert-danger {
    color: var(--red);
    font-weight: bold;
  }

  .alert-success {
    color: var(--green);
    font-weight: bold;
  }

  /* Adjusting message display */
  .message {
    margin-top: 20px;
    max-width: 300px;
    word-wrap: break-word; /* Allow long messages to wrap */
  }

  .progress-bar {
    display: flex;
    justify-content: space-between;
    padding: 0 100px 50px 100px;
  }

  .progress-bubble {
    background-color: var(--lapis);
    color: var(--platinum);
    padding: 20px 30px;
    border-radius: 100px;
    font-size: 1.5rem;
    text-align: center;
    width: 60px;
    height: 60px;
    line-height: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .active {
    background-color: var(--indigo);
  }
  .error {
    color: var(--red);
  }

</style>